"use strict";(globalThis.webpackChunkwebpack_chopshop=globalThis.webpackChunkwebpack_chopshop||[]).push([[437],{4596:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(3767),i=(n(2791),n(184));function o({children:e,icon:t}){return(0,i.jsxs)(r.Z,{direction:"row",justifyContent:"center",sx:{padding:2,color:"text.secondary"},spacing:2,children:[t,(0,i.jsx)("div",{children:e})]})}},2437:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ct});var r=n(703),i=n(763),o=n(2791),a=n(3020),s=n(5974),l=n(6463),d=n(7773),c=n(4520),h=n(6688),p=n(8347),u=n(6152),g=n(151),m=n(1444),x=n(2065),f=n(4554),v=n(890),j=n(2477),y=n(3400),N=n(3367),b=n(605),k=n(4596);const I=/^(?:(.*\/(?:node_modules|web_modules|packages|~)\/)((?:@[^/]+?\/)?[^/]+))?(.*?\/)?([^/]+)?(\.[^./]+)?$/;function Z({file:e}){if(!e)return"";const t=e.match(I);return t?t[2]:""}var C=n(184);const w=(0,p.ZL)({name:"NodeSize"})((e=>({root:{color:"inherit",maxWidth:"100%",display:"inline-flex",flexDirection:"row",whiteSpace:"nowrap",overflow:"hidden"},packageName:{textOverflow:"ellipsis",flexShrink:10,overflow:"hidden"},path:{textOverflow:"ellipsis",flexShrink:1e3,overflow:"hidden",minWidth:10},name:{textOverflow:"ellipsis",flexShrink:1,overflow:"hidden"},extension:{flexShrink:0},children:{}})));function S({node:e,hidePackage:t,onlyPackage:n,tooltip:r,children:i,className:o}){const{classes:a,cx:s}=w(),l=function({file:e,name:t,id:n}){if(!e)return{name:t||String(n)||"(unknown)"};const r=e.match(I);return r?{pathToPackage:r[1],packageName:r[2],path:r[3],name:r[4],extension:r[5]}:{path:e}}(e),d=t?"":l.packageName,c=n?"":(l.path||"").replace(/^\/|\/$/g,""),h=n?"":(l.name||"")+(l.extension||""),p=(0,C.jsxs)("span",{className:s(o,a.root),children:[d&&(0,C.jsx)("span",{className:a.packageName,children:d}),d&&c?"/":"",c&&(0,C.jsx)("span",{className:a.path,children:c}),(d||c)&&h?"/":"",h&&(0,C.jsx)("span",{className:a.name,children:h}),(d||h)&&i?(0,C.jsx)("span",{children:",\xa0"}):"",i&&(0,C.jsx)("span",{className:a.children,children:i})]});return r?(0,C.jsx)(j.Z,{title:"boolean"===typeof r?`${e.kind}: ${e.name||""} (${String(e.originalId)})`:r,placement:"top",enterDelay:1e3,disableFocusListener:!0,children:p}):p}var M=n(2460),L=n(7),z=n(1252),E=n(8483),T=n(7047);const R=(0,p.ZL)({name:"PromisedValue"})({root:{transition:"opacity 100ms",opacity:1},oldValue:{opacity:.5},error:{marginLeft:4}});function A({promise:e,render:t,className:n}){const{value:r,error:i,loading:o}=(0,c.jc)(e),{classes:a,cx:s}=R(),l=void 0!==r;return(0,C.jsxs)("span",{className:s(n,a.root,l&&(o||i)&&a.oldValue),children:[l?t(r):(0,C.jsx)(T.Z,{style:{display:"inline-block"},variant:"text",width:"5em"}),i?(0,C.jsx)("span",{title:String(i),className:a.error,children:(0,C.jsx)(E.Z,{color:"error"})}):null]})}const F=(0,o.createContext)(null);function G(){return(0,o.useContext)(F)}const $=F.Provider,P=(0,p.ZL)({name:"NodeSize"})((e=>({bigger:{color:M.Z.A700},smaller:{color:L.Z.A700}})));function B({node:e,retainerRootNode:t}){const{classes:n}=P(),{graph:r,graphWorker:i}=G(),a=(0,o.useMemo)((async()=>{const n=t?n=>i.calculateTreeSizeRetainedByNode(t,e,n):t=>i.calculateTreeSize(e,t);return{baseTreeSize:await n(s.baseGraphFilter),treeSize:await n(s.currentGraphFilter)}}),[r,i,e,t]);return(0,C.jsx)(A,{promise:a,render:({baseTreeSize:t,treeSize:r})=>(0,C.jsxs)(C.Fragment,{children:[null!=r?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("span",{children:(0,z.B)(e.size)})," + ",(0,C.jsx)("span",{children:(0,z.B)(r-e.size)})]}):"disconnected",null!=t&&null!=r&&r!==t?(0,C.jsxs)("span",{className:r>t?n.bigger:n.smaller,children:[" (",r>t?"+":"-",(0,z.B)(Math.abs(r-t)),")"]}):null]})})}const W=(0,p.ZL)({name:"GroupSizesInfo"})({bar:{display:"flex",borderRadius:2,overflow:"hidden",transition:"opacity 100ms",opacity:1,height:16,background:"#333"},loading:{opacity:.5},part:{transition:"width 100ms",overflow:"hidden",textIndent:4,marginRight:1,fontSize:10,"&:last-child":{marginRight:0},whiteSpace:"nowrap"}});function D({className:e,node:t,retainerRootNode:n,filter:r=s.currentGraphFilter}){const{classes:i,cx:o,theme:a}=W(),{graphWorker:l}=G(),{value:d,loading:h,error:p}=(0,c.jc)(l.calculateGroupSizes(n,t,r)),u=d||[],g=u.reduce(((e,{size:t})=>e+t),0);return(0,C.jsx)("div",{className:o(e,i.bar,(h||p)&&i.loading),children:u.map((({group:e,count:t,size:n})=>(0,C.jsx)(j.Z,{title:`${e.name}: ${(0,z.B)(n)} in ${t} modules`,children:(0,C.jsxs)("div",{className:i.part,style:{background:a.palette[e.colorName].main,color:a.palette[e.colorName].contrastText,width:`${Math.max(1,Math.round((n||1)/(g||1)*100))}%`},children:[e.name.toLocaleUpperCase()," (",(0,z.B)(n),")"]})},e.name)))})}const O=(0,p.ZL)({name:"ActiveEdgeInfo"})((e=>({root:{display:"flex",flexDirection:"column",padding:e.spacing(2)},spacer:{flexGrow:1},title:{display:"grid",grid:"1fr / 1fr",gridAutoFlow:"column"},code:{margin:0,marginTop:e.spacing(1),marginBottom:e.spacing(1),border:`1px solid ${(0,x.Fq)(e.palette.text.primary,.1)}`,borderRadius:2}})));function q({className:e}){const{classes:t,cx:n}=O(),{graph:i,activeEdgeId:o,setActiveNodeId:a,activeNodeId:s,pinned:d,togglePinned:c}=G(),h=(0,l.a3)(i,o),p=(0,l.Ql)(i,null===h||void 0===h?void 0:h.fromId),x=!!h&&d.includes(h.toId);return(0,C.jsxs)(r.Z,{className:n(e,t.root),children:[(0,C.jsxs)(f.Z,{className:t.title,children:[(0,C.jsx)(v.Z,{variant:"h6",sx:{marginBottom:1},children:"Active Import"}),h?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(j.Z,{title:"Set as active module",children:(0,C.jsx)(y.Z,{onClick:()=>a(h.toId),disabled:s===h.toId,children:(0,C.jsx)(u.Z,{})})}),(0,C.jsx)(y.Z,{onClick:()=>c({id:h.toId}),children:x?(0,C.jsx)(g.Z,{color:"warning"}):(0,C.jsx)(m.Z,{})})]}):null]}),h&&p?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(S,{node:(0,l.Mk)(i,h.toId),tooltip:!0}),(0,C.jsx)(v.Z,{variant:"subtitle2",sx:{marginTop:1},children:"imported by"}),(0,C.jsx)(S,{node:p,tooltip:!0}),h.fromSource?(0,C.jsx)(N.Z,{language:"javascript",style:b.Z,className:t.code,children:h.fromSource||""}):null,(0,C.jsx)("div",{className:t.spacer}),(0,C.jsxs)(v.Z,{variant:"subtitle2",sx:{marginTop:1},children:["Dependencies used only by this module: ",(0,C.jsx)(B,{retainerRootNode:i.root,node:(0,l.Mk)(i,h.toId)})]}),(0,C.jsx)(D,{retainerRootNode:i.root,node:(0,l.Mk)(i,h.toId)}),(0,C.jsxs)(v.Z,{variant:"subtitle2",sx:{marginTop:1},children:["Dependencies used by this module: ",(0,C.jsx)(B,{node:(0,l.Mk)(i,h.toId)})]}),(0,C.jsx)(D,{node:(0,l.Mk)(i,h.toId)})]}):(0,C.jsx)(k.Z,{children:"Select import in the tree below"})]})}var K=n(619),Q=n(3142);const _=(0,p.ZL)({name:"ActiveNodeInfo"})((e=>({root:{display:"flex",flexDirection:"column",padding:e.spacing(2)},spacer:{flexGrow:1},title:{display:"grid",grid:"1fr / 1fr",gridAutoFlow:"column"},ellipsis:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},scrollable:{whiteSpace:"nowrap",overflowX:"auto"}})));function V({className:e}){const{classes:t,cx:n}=_(),{graph:o,graphWorker:a,activeNodeId:d,openNodeChain:c,pinned:h,togglePinned:p,setActiveNodeId:x}=G(),N=(0,l.Ql)(o,d),b=!!N&&h.includes(N.id);return(0,C.jsxs)(r.Z,{className:n(e,t.root),sx:{padding:2},children:[(0,C.jsxs)(f.Z,{className:t.title,children:[(0,C.jsxs)(v.Z,{variant:"h6",sx:{marginBottom:1},children:["Active ",(0,i.startCase)((null===N||void 0===N?void 0:N.kind)||"Module")]}),N?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(j.Z,{title:"Navigate to this module",children:(0,C.jsx)(y.Z,{onClick:()=>c([N]),children:(0,C.jsx)(K.Z,{})})}),(0,C.jsx)(j.Z,{title:"Deactivate",children:(0,C.jsx)(y.Z,{onClick:()=>x(null),children:(0,C.jsx)(Q.Z,{})})}),(0,C.jsx)(y.Z,{onClick:()=>p({id:N.id}),children:b?(0,C.jsx)(g.Z,{color:"warning"}):(0,C.jsx)(m.Z,{})})]}):null]}),N?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(S,{node:N,tooltip:!0}),(0,C.jsx)(v.Z,{variant:"subtitle2",sx:{marginTop:1},children:"file"}),(0,C.jsx)(f.Z,{className:t.scrollable,children:N.file}),(0,C.jsx)(v.Z,{variant:"subtitle2",sx:{marginTop:1},children:"imported by"}),(0,C.jsx)(f.Z,{children:(0,C.jsx)(A,{promise:a.getEnabledParentEdges(N,s.currentGraphFilter),render:e=>0===e.length?"nothing":1===e.length?"only 1 module":`${e.length} modules`})}),(0,C.jsx)("div",{className:t.spacer}),(0,C.jsxs)(v.Z,{variant:"subtitle2",sx:{marginTop:1},children:["Dependencies used only by this module: ",(0,C.jsx)(B,{retainerRootNode:o.root,node:N})]}),(0,C.jsx)(D,{retainerRootNode:o.root,node:N}),(0,C.jsxs)(v.Z,{variant:"subtitle2",sx:{marginTop:1},children:["Dependencies used by this module: ",(0,C.jsx)(B,{node:N})]}),(0,C.jsx)(D,{node:N})]}):(0,C.jsxs)(k.Z,{children:["Select module by clicking a ",(0,C.jsx)(u.Z,{fontSize:"inherit"})," on an import or clicking an item in the tree below while holding ",(0,C.jsx)("b",{children:"[shift]"})]})]})}var U=n(3154),H=n(5130),J=n(3260),X=n(6098),Y=n.n(X),ee=n(1582);function te({value:e,desc:t,format:n,className:r}){const{theme:i}=(0,p.yK)();if(null==e)return null;const o=t?e<0:e>0;return(0,C.jsxs)("span",{className:r,style:{color:o?i.palette.success.main:0!==e?i.palette.error.main:"inherit"},children:[e>0?"+":e<0?"-":"",Y()(Math.abs(e)).format(n)]})}var ne=n(5289),re=n(5661),ie=n(9157),oe=n(1691),ae=n(3767),se=n(7391),le=n(7123),de=n(6151),ce=n(194);const he="copy(Object.entries(window).filter(([k,v]) => k.startsWith('webpackChunk')).flatMap(([k,v]) => v.flatMap(([id]) => id)))";function pe({open:e,onClose:t}){const{graph:n,updateChanges:r}=G(),[i,a]=(0,o.useState)("");let s=[],l=!1;try{s=JSON.parse("["+i+"]").flat()}catch(d){console.error(d),l=!0}return(0,C.jsxs)(ne.Z,{open:e,onClose:t,children:[(0,C.jsx)(re.Z,{children:"Pick loaded split points from a running application"}),(0,C.jsxs)(ie.Z,{children:[(0,C.jsxs)(oe.Z,{children:["Load the application, open it's console, run below code snippet and paste the loaded chunk IDs below",(0,C.jsxs)(ae.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,C.jsx)(N.Z,{language:"javascript",style:b.Z,children:he}),(0,C.jsx)(y.Z,{onClick:()=>navigator.clipboard.writeText(he),children:(0,C.jsx)(ce.Z,{})})]})]}),(0,C.jsx)(se.Z,{autoFocus:!0,multiline:!0,margin:"dense",label:"Loaded Chunk IDs",error:l,fullWidth:!0,maxRows:5,variant:"standard",value:i,onChange:e=>a(e.target.value)}),(0,C.jsxs)(le.Z,{children:[(0,C.jsx)(de.Z,{onClick:t,children:"Cancel"}),(0,C.jsx)(de.Z,{onClick:()=>{const e=Object.values(n.edges).filter((e=>e.async&&e.asyncIds&&e.asyncIds.some((e=>s.includes(e)))));console.log("Matched edges",e),e.length&&r((t=>e.reduce(((e,t)=>(0,ee.j6)(n,e,t,!0)),t))),t()},disabled:l||0===s.length,children:"Load"})]})]})]})}const ue=(0,p.ZL)({name:"RootInfo"})((e=>({root:{display:"flex",flexDirection:"column",padding:e.spacing(2)},spacer:{flexGrow:1},title:{display:"grid",grid:"1fr / 1fr",gridAutoFlow:"column"}})));function ge({className:e}){const{classes:t,cx:n}=ue(),{graph:i,graphWorker:a,updateChanges:l}=G(),[d,c]=(0,o.useState)(!1),h=(0,o.useMemo)((async()=>({currentSize:await a.calculateTreeSize(i.root,s.currentGraphFilter),baseSize:await a.calculateTreeSize(i.root,s.baseGraphFilter),overallSize:await a.calculateTreeSize(i.root,s.allAsyncAndEnabledFilter)})),[i,a]);return(0,C.jsxs)(r.Z,{className:n(e,t.root),children:[(0,C.jsxs)(f.Z,{className:t.title,children:[(0,C.jsx)(v.Z,{variant:"h6",sx:{marginBottom:1},children:"Project"}),(0,C.jsx)(j.Z,{title:"Unload everything",children:(0,C.jsx)(y.Z,{onClick:()=>l((e=>(0,ee.v2)(e,!0))),children:(0,C.jsx)(H.Z,{})})}),(0,C.jsx)(j.Z,{title:"Load everything",children:(0,C.jsx)(y.Z,{onClick:()=>l((e=>Object.values(i.edges).filter((e=>e.async)).reduce(((e,t)=>(0,ee.j6)(i,e,t,!0)),e))),children:(0,C.jsx)(J.Z,{})})}),(0,C.jsx)(j.Z,{title:"Load from a running application",children:(0,C.jsx)(y.Z,{onClick:()=>c(!0),children:(0,C.jsx)(U.Z,{})})})]}),(0,C.jsxs)(f.Z,{children:["Loaded ",(0,C.jsx)(A,{promise:h,render:({currentSize:e,overallSize:t})=>(0,C.jsxs)("b",{children:[Math.round(e/t*100),"%"]})})," of split points (",(0,C.jsx)(A,{promise:h,render:({currentSize:e})=>(0,C.jsx)("b",{children:Y()(e).format("0[.]0b")})})," of ",(0,C.jsx)(A,{promise:h,render:({overallSize:e})=>(0,C.jsx)("b",{children:Y()(e).format("0[.]0b")})}),")"]}),(0,C.jsxs)(f.Z,{children:["Changes give ",(0,C.jsx)(A,{promise:h,render:({currentSize:e,baseSize:t})=>(0,C.jsx)("b",{children:(0,C.jsx)(te,{value:e-t,desc:!0,format:"0[.]0b"})})})," difference in size"]}),(0,C.jsx)("div",{className:t.spacer}),(0,C.jsx)(v.Z,{variant:"subtitle2",sx:{marginTop:1},children:"Loaded modules breakdown"}),(0,C.jsx)(D,{node:i.root}),(0,C.jsx)(v.Z,{variant:"subtitle2",sx:{marginTop:1},children:"All modules breakdown"}),(0,C.jsx)(D,{node:i.root,filter:s.allAsyncAndEnabledFilter}),(0,C.jsx)(pe,{open:d,onClose:()=>c(!1)})]})}var me=n(4558),xe=n(8096),fe=n(829),ve=n(7198),je=n(7865),ye=n(7350),Ne=n(7078),be=n(3466),ke=n(7482);const Ie=[{test:/\/node_modules\//,name:"Vendors",colorName:"groupVendors",priority:1},{test:/\.(m?jsx?|tsx?)$/,name:"JS",colorName:"groupCode",priority:30},{test:/\.(css|scss|sass)$/,name:"CSS",colorName:"groupStyles",priority:12},{test:/\.(jpe?g|png|gif|webm)$/,name:"Images",colorName:"groupImages",priority:11},{test:/\.(graphql)$/,name:"GraphQL",colorName:"groupOther",priority:10},{test:/.*/,name:"Other",colorName:"groupOther",priority:5}];function Ze(e){for(const t of Ie)if(("function"!==typeof t.test||t.test(e))&&(!(t.test instanceof RegExp)||t.test.test(e.file||"<unknown>")))return t;throw new Error(`No group matched node ${e.id}`)}function Ce(e,t,n){if(!e)return 0;let r=0;return e.includes(t)&&(r+=1),e.includes("/"+t)&&(r+=1),e.includes("/"+t+"/")&&(r+=1),e.endsWith(t)&&(r+=1),n&&(r=r>0?0:1),r>0&&(r+=1-Math.min(1,e.length/1e3)),r}function we(e){const t="!"===(e=e.toLocaleLowerCase())[0];return t&&(e=e.slice(1)),"#"===e[0]?(e=e.slice(1),n=>Ce(Ze(n).name.toLocaleLowerCase(),e,t)):n=>Ce((n.file||n.name||n.id).toLocaleLowerCase(),e,t)}var Se=n(6553);const Me=e=>e.children,Le=e=>e;function ze(e,t,n={}){const{getKey:r=Le}=n;return e.expanded.indexOf(r(t))>=0}function Ee(e,t,n={}){const r=[],{getChildren:i=Me}=n;for(const o of e)if(r.push(o),ze(t,o,n)){const e=i(o);e&&Array.isArray(e)?r.push(...Ee(e,t,n)):console.warn("Non-iterable row was expanded",o)}return r}const Te=(e,t={})=>n=>function(e,t,n={},r){const i=ze(e,t,n);if(null==r&&(r=!i),r===i)return e;const{getKey:o=Le}=n,a=o(t);return r?{...e,expanded:[...e.expanded,a]}:{...e,expanded:e.expanded.filter((e=>e!==a))}}(n,e,t);var Re=n(2885),Ae=n(1131),Fe=n(5484),Ge=n(6278),$e=n(9900);const Pe=(0,p.ZL)({name:"ElementListGroup"})((e=>({root:{padding:0,background:e.palette.background.paper,backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05))",zIndex:1}})));function Be({className:e,style:t,group:n,expanded:r,onClick:i}){const{classes:o,cx:a}=Pe();return(0,C.jsx)(Fe.ZP,{className:a(e,o.root),dense:!0,ContainerComponent:"div",onClick:i,disableGutters:!0,style:"sticky"===(null===t||void 0===t?void 0:t.position)?{...t,top:0,bottom:void 0,zIndex:0}:t,divider:!0,children:(0,C.jsxs)(Ge.Z,{children:[(0,C.jsx)($e.Z,{primary:n.name,secondary:`${(0,z.B)(n.size)} in ${n.children.length}`}),r?(0,C.jsx)(Re.Z,{}):(0,C.jsx)(Ae.Z,{})]})})}function We(e){return"group"in e&&!0===e.group}const De=(0,p.ZL)({name:"ElementList"})((e=>({root:{display:"flex",flexDirection:"column",justifyContent:"stretch"},search:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},listContainer:{flexGrow:1,position:"relative",overflow:"auto"},list:{width:"100%",position:"relative"}}))),Oe={getKey:e=>We(e)&&e.name};function qe(e,t){if("toId"in t)return(0,l.Mk)(e,t.toId);if("id"in t&&"parents"in t)return t;throw new Error("Unknown element type")}const Ke=function({className:e,listClassName:t,renderItem:n,renderEmpty:r,items:l,itemSize:d=64,stickyItems:h=[],getNode:p=qe,graph:u,graphWorker:g,pinned:m,orderItemsBy:x,groupItemsBy:f,orderGroupsBy:v,loading:N,error:b,children:k}){const{classes:I,cx:w}=De(),[S,M]=(0,o.useState)(""),[L,z]=(0,o.useState)({expanded:[]}),[E,T]=(0,o.useState)(!1),R=!!!S&&f;let{value:A=l,loading:F,error:G}=(0,c.jc)((0,o.useMemo)((()=>E?Promise.all(l.map((async e=>{const t=p(u,e);return t.treeSize=await g.calculateTreeSizeRetainedByNode(u.root,t,s.currentGraphFilter)||0,e}))):l),[p,u,g,E,l]));F&&(A=l);const $=(0,o.useMemo)((()=>{const e=S?function(e,t,n,r){if(!n)return[];const i=n.split(" ").map(we);return t.map((t=>{const n=r(e,t);let o=0;for(const e of i){const t=e(n);if(!t)return null;o+=t}return o>0?{item:t,score:o,priority:Ze(n).priority}:null})).filter(Boolean).sort(((e,t)=>Math.round(t.score)-Math.round(e.score)||t.priority-e.priority||t.score-e.score)).map((({item:e})=>e))}(u,A,S,p):A;return E?(0,i.orderBy)(e,(e=>p(u,e).treeSize),["desc"]):x&&!S?(0,i.orderBy)(e,...x):e}),[S,u,A,p,E,x]),P=(0,o.useMemo)((()=>$.filter((e=>m.includes(p(u,e).id)))),[$,m,p,u]),B=(0,o.useMemo)((()=>{let e;if(R&&"package"===f){const t=(0,i.groupBy)($,(e=>{const t=p(u,e);return"module"===t.kind?Z(t)||"(root modules)":`(${t.kind}s)`}));e=(0,i.map)(t,((e,t)=>({name:t,children:e,size:E?Math.max(...e.map((e=>p(u,e).treeSize||0))):(0,i.sumBy)(e,(e=>p(u,e).size||0)),group:!0}))),v&&(e=(0,i.orderBy)(e,...v))}else e=(0,i.without)($,...P);return e.unshift(...P),Ee(e,L,Oe)}),[R,f,P,L,$,v,p,u,E]),W=(0,o.useMemo)((()=>{if(!f)return[];let e=[];for(const t of B)We(t)&&ze(L,t,Oe)&&e.push(t);return e}),[f,B,L]),D=(0,i.uniq)([...h,...W]).map((e=>B.indexOf(e))).filter((e=>e>=0)).sort(((e,t)=>e-t)),O=({index:e,style:t})=>{if(D.includes(e)&&"sticky"!==t.position)return null;const r=B[e];return We(r)?(0,C.jsx)(Be,{group:r,expanded:ze(L,r,Oe),onClick:()=>z(Te(r,Oe)),style:t},e):n({item:r,key:String(e),hidePackage:!!R&&e>=P.length,style:t})},q=D.map(((e,t)=>{var n;const r=(null!==(n=D[t-1])&&void 0!==n?n:-1)+1;return(0,C.jsxs)(o.Fragment,{children:[(0,C.jsx)("div",{style:{height:(e-r)*d}}),O({index:e,style:{top:Math.min(3,t)*d,bottom:Math.min(3,D.length-t-1)*d,left:0,width:"100%",height:d,position:"sticky",zIndex:1}})]},String(e))})),K=(0,o.useCallback)((()=>null!==d&&void 0!==d?d:64),[d]),Q=(0,o.useRef)(null),{virtualItems:_,totalSize:V}=(0,a.oq)({size:B.length,parentRef:Q,estimateSize:K});return(0,C.jsxs)("div",{className:w(e,I.root),children:[(0,C.jsx)(Ne.Z,{className:I.search,type:"text",value:S,onChange:e=>M(e.target.value),endAdornment:(0,C.jsxs)(be.Z,{position:"end",children:[S&&(0,C.jsx)(y.Z,{color:"inherit","aria-label":"Clear search",onClick:()=>M(""),size:"small",children:(0,C.jsx)(H.Z,{fontSize:"small",color:"inherit"})}),(0,C.jsx)(j.Z,{title:"Sort by retained size",children:(0,C.jsx)(y.Z,{size:"small",onClick:()=>T(!E),children:(0,C.jsx)(ye.Z,{fontSize:"small",color:E?"primary":"disabled"})})})]}),placeholder:"Search"}),(0,C.jsx)(ke.Z,{sx:{visibility:N||F?"visible":"hidden",width:"100%"}}),b||G&&(0,C.jsx)(Se.Z,{error:b||G}),(0,C.jsx)("div",{className:w(I.listContainer,t),ref:Q,children:(0,C.jsx)("div",{style:{height:0},children:(0,C.jsxs)("div",{className:w(I.list),style:{height:V},children:[_.map((e=>O({index:e.index,style:{position:"absolute",left:0,width:"100%",top:e.start,height:d}}))),0===B.length?r():null,k,q]})})})]})},Qe=(0,p.ZL)({name:"NodeNavigatorItem"})((e=>({NodeNavigatorItem:{padding:0},disabled:{opacity:.5},activeNode:{border:`1px solid ${e.graph.treeLineColor.chained}`,borderRadius:2}})));function _e({className:e,style:t,node:n,selected:r,hidePackage:i,retainerRootNode:o,onClick:a,onDoubleClick:s,children:d}){const{classes:c,cx:h,theme:p}=Qe(),{graph:u,activeNodeId:g,activeEdgeId:m}=G(),x=(0,l.a3)(u,m),f=g===n.id,v=(null===x||void 0===x?void 0:x.toId)===n.id,j=Ze(n);return(0,C.jsx)("div",{style:t,children:(0,C.jsx)(Fe.ZP,{dense:!0,disableGutters:!0,ContainerComponent:"div",selected:v,onClick:a,onDoubleClick:s,className:h(e,c.NodeNavigatorItem,f&&c.activeNode),children:(0,C.jsxs)(Ge.Z,{children:[(0,C.jsx)($e.Z,{primary:(0,C.jsx)(S,{node:n,hidePackage:i,tooltip:!0}),primaryTypographyProps:{noWrap:!0,color:p.palette[j.colorName].main,fontWeight:v?"bold":"initial"},secondary:(0,C.jsx)(B,{node:n,retainerRootNode:o})}),d]})})})}const Ve=(0,p.ZL)({name:"NodeNavigator"})((e=>({NodeNavigator:{display:"flex",position:"relative",flexDirection:"column",justifyContent:"stretch"},list:{flexGrow:1},listProgress:{marginTop:16}})));function Ue({className:e,modes:t}){const{classes:n,cx:r}=Ve(),[i,a]=(0,o.useState)(null),s=Object.keys(t)[0],l=i&&t[i]||t[s],{graph:d,graphWorker:h,pinned:p,setActiveNodeId:u,openNodeChain:g}=G(),m=(0,o.useMemo)((()=>l.getItems()),[l]),{value:x,loading:f,error:v}=(0,c.jc)(m),j=(0,o.useMemo)((()=>l),[x]),{getItemNode:y=((e,t)=>t)}=j;return(0,C.jsxs)("div",{className:r(e,n.NodeNavigator),children:[(0,C.jsxs)(xe.Z,{fullWidth:!0,children:[(0,C.jsx)(fe.Z,{id:"NodeNavigator-mode-label",children:"Display"}),(0,C.jsx)(ve.Z,{labelId:"NodeNavigator-mode-label",value:i&&t[i]?i:s,label:"Display",onChange:()=>{},children:Object.entries(t).map((([e,t])=>(0,C.jsx)(je.Z,{value:e,onClick:()=>{a(e)},children:t.renderTitle()},e)))})]}),x&&(0,C.jsx)(Ke,{className:n.list,items:x,getNode:y,graph:d,graphWorker:h,pinned:p,groupItemsBy:"package",orderItemsBy:[["file"],["asc"]],orderGroupsBy:[["size"],["desc"]],loading:f,error:v,renderItem:({item:e,...t})=>{const n=y(d,e);return(0,C.jsx)(_e,{...t,node:n,retainerRootNode:d.root,onClick:t=>{j.activateItem?j.activateItem(e,t):(t.shiftKey&&u(n.id),g([n]))},...j.itemProps&&j.itemProps({item:e,...t})})},renderEmpty:()=>(0,C.jsx)(k.Z,{icon:(0,C.jsx)(me.Z,{}),children:l.renderEmpty()})})]})}var He=n(7948),Je=n(6936),Xe=n(5533),Ye=n(7064),et=n(4454);const tt=(0,p.ZL)({name:"EdgeSize"})((e=>({bigger:{color:M.Z.A700},smaller:{color:L.Z.A700}})));function nt({edge:e,retainerRootNode:t}){const{classes:n}=tt(),{graph:r,graphWorker:i}=G(),a=(0,l.Mk)(r,e.toId),d=(0,o.useMemo)((async()=>({baseTreeSize:await i.calculateTreeSizeRetainedByEdge(t,e,s.baseGraphFilter),treeSize:await i.calculateTreeSizeRetainedByEdge(t,e,s.currentGraphFilter),nodeTreeSize:await i.calculateTreeSizeRetainedByNode(t,a,s.currentGraphFilter)})),[r,i,a,t]);return(0,C.jsx)(A,{promise:d,render:({baseTreeSize:e,treeSize:t,nodeTreeSize:r})=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("span",{children:(0,z.B)(t)}),null!=e&&t!==e?(0,C.jsxs)("span",{className:t>e?n.bigger:n.smaller,children:[" (",t>e?"+":"-",(0,z.B)(Math.abs(t-e)),")"]}):null,r&&r!==t?(0,C.jsxs)(C.Fragment,{children:[" | ",(0,C.jsx)("span",{children:(0,z.B)(r)})]}):null]})})}function rt(e,{enabled:t,chained:n,cycled:r}){return t?r?e.graph.treeLineColor.cycled:n?e.graph.treeLineColor.chained:e.graph.treeLineColor.enabled:e.graph.treeLineColor.disabled}function it({className:e,style:t,edge:n,selected:r,hidePackage:i,retainerRootNode:a,onClick:d,onDoubleClick:h,levelIndex:p}){const{graph:u,graphWorker:g,updateChanges:m,enabledIds:x,activeNodeId:f,activeEdgeId:v,openedNodeIds:j,setActiveNodeId:N}=G(),b=f===n.toId,k=v===n.id,I=j[p+1]===n.toId,Z=(0,l.Mk)(u,n.toId),w=x.includes(n.id),M=n.async||x.includes(n.id)||x.includes(n.fromId),L=(0,c.jc)((0,o.useMemo)((()=>!!f&&g.getDeepNodeChildren(Z,s.currentGraphFilter).then((e=>e.includes(f)))),[u,f,g,Z])),z=function({graph:e,edge:t,activeNodeId:n,containsActiveNode:r}){return r&&t.fromId===l.PY?"start":r?"middle":t.toId===n&&"end"}({graph:u,edge:n,activeNodeId:f,containsActiveNode:!L.loading&&!!L.value}),E=function({graph:e,edge:t,levelIndex:n,openedNodeIds:r,activeNode:i}){const o=r.slice(0,n+1).includes(t.toId),a=r[n+1]===t.toId;let s,d=o?n:void 0;if(i){const t=r.indexOf(i.id),n=t>0?r.slice(t).find((t=>(0,l.a3)(e,(0,l.Ln)(t,i.id)))):null;n&&(s=t,d=r.indexOf(n))}return!o||null!=s&&(null===i||void 0===i?void 0:i.id)===t.toId?o?"end":!(!a||null==s||null==d)&&(n===s?"start":n>s&&n<d&&"middle"):"lone"}({graph:u,edge:n,activeNode:(0,l.Ql)(u,f),openedNodeIds:j,levelIndex:p}),{classes:T,cx:R,theme:A}=ot({enabled:w,chained:z,activeEdge:k,activeNode:b,opened:I,cycled:E}),F=(0,o.useCallback)((async e=>{const t=e.target.checked,r=[n];if(n.async&&t){const[e]=await g.findChains(u.root,(0,l.Mk)(u,n.toId),s.currentGraphFilter);if(!e){const[e=[]]=await g.findChains(u.root,(0,l.Mk)(u,n.toId));r.push(...(0,l.g_)(u,e).filter((e=>!e.enabled)))}}n.async&&(e.shiftKey||e.altKey)&&r.push(...(0,l.W8)(u,await g.getAsyncEdges((0,l.Mk)(u,n.toId),e.shiftKey?s.stopOnAsyncModulesFilter:void 0))),m((e=>r.reduce(((e,n)=>(0,ee.j6)(u,e,n,t)),e)))}),[n,u,g,m]),$=Ze((0,l.Mk)(u,n.toId)),P=n.async?{icon:(0,C.jsx)(Xe.Z,{}),checkedIcon:(0,C.jsx)(Je.Z,{}),color:$.colorName}:{color:$.colorName};return(0,C.jsxs)("div",{style:t,className:T.root,children:[(0,C.jsx)(Fe.ZP,{dense:!0,disableGutters:!0,ContainerComponent:"div",selected:r,onClick:d,onDoubleClick:h,className:R(e,T.edge),children:(0,C.jsxs)(Ge.Z,{sx:{width:"100%"},children:[(0,C.jsx)(Ye.Z,{children:(0,C.jsx)(et.Z,{checked:n.enabled,disabled:!M,...P,onClick:e=>{e.stopPropagation(),F(e)}})}),(0,C.jsx)($e.Z,{primary:n.name||(0,C.jsx)(S,{node:(0,l.Mk)(u,n.toId),hidePackage:i,tooltip:!0}),primaryTypographyProps:{noWrap:!0,fontWeight:k?"bold":"initial",color:A.palette[$.colorName].main},secondary:(0,C.jsx)(nt,{edge:n,retainerRootNode:a||u.root})}),("lone"===E||"end"===E)&&(0,C.jsx)(y.Z,{onClick:e=>{e.stopPropagation(),N(n.toId)},children:(0,C.jsx)(He.Z,{className:T.cycleIcon})})]})}),(0,l.Mk)(u,n.fromId)!==u.root?(0,C.jsx)("div",{className:R(T.connector,T.connectorLeft)}):null,(0,C.jsx)("div",{className:R(T.connector,T.connectorRight)})]})}const ot=(0,p.ZL)({name:"TreeItem"})(((e,{enabled:t,chained:n,activeNode:r,activeEdge:i,opened:o,cycled:a},s)=>{const l=e.palette.background.default,d=e.graph.treeLevelGap/2,c=e.graph.treeLineSize,h=rt(e,{enabled:t,chained:r||!!n,cycled:!!a&&"lone"!==a}),p=rt(e,{enabled:t,chained:n&&"start"!==n,cycled:a&&"start"!==a&&"lone"!==a}),u=rt(e,{enabled:t,chained:n&&"end"!==n,cycled:a&&"end"!==a&&"lone"!==a});return{root:{height:64,padding:`2px ${d+1}px`,background:`linear-gradient(90deg, transparent, ${l} ${d-4}px, ${l} calc(100% - ${d-4}px), transparent)`,[`&:hover .${s.connectorLeft}`]:{opacity:1}},edge:{height:"100%",border:"1px solid",borderRadius:2,borderColor:h,borderLeftWidth:"start"===a||!a&&"start"===n?4:1,borderRightWidth:"end"===a||!a&&"end"===n?4:1,borderTopWidth:r?4:1,borderBottomWidth:r?4:1,transition:"all 200ms"},cycleIcon:{position:"absolute",right:0},connector:{position:"absolute",width:d,height:c,top:`calc(50% - ${c/2}px)`},connectorLeft:{left:0,opacity:o||"end"===a?1:0,background:`linear-gradient(90deg, ${e.graph.treeRailColor}, ${p})`},connectorRight:{right:0,opacity:o?1:0,background:`linear-gradient(90deg, ${u}, ${e.graph.treeRailColor})`}}})),at=(0,p.ZL)({name:"TreeLevel"})((e=>{const t=e.graph.treeRailSize;return{root:{display:"flex",flexDirection:"column"},list:{flexGrow:1},listContainer:{marginTop:e.spacing(1),marginLeft:-e.graph.treeLevelGap/2-t/2,marginRight:-e.graph.treeLevelGap/2-t/2},rail:{width:t,background:e.graph.treeRailColor,position:"absolute",top:e.graph.treeItemHeight/2,bottom:e.graph.treeItemHeight/2,borderRadius:t},left:{left:0},right:{right:0}}}));function st({node:e,childNode:t,activateEdge:n,activateNode:r,className:i,levelIndex:a,renderEmpty:s},d){const{graph:h,graphWorker:p,pinned:u,getChildEdges:g,chainedNodeIds:m,activeNodeId:x}=G(),{classes:f,cx:v}=at(),{value:j,loading:y,error:N}=(0,c.jc)((0,o.useMemo)((()=>g(e)),[g,e])),b=(0,o.useMemo)((()=>[...(j||[]).filter((e=>(0,l.Mk)(h,e.toId)===t)),...(j||[]).filter((e=>e.toId===x)),...(j||[]).filter((e=>m.includes(e.toId)))].slice(0,5)),[h,x,m,t,j]),I=(0,o.useMemo)((()=>[[e=>Ze((0,l.Mk)(h,e.toId)).priority,"name"],["desc","asc"]]),[h]);return(0,C.jsxs)("div",{className:v(i,f.root),ref:d,children:[(0,C.jsx)(S,{node:e}),(0,C.jsxs)(Ke,{className:f.list,listClassName:f.listContainer,items:j||[],graph:h,graphWorker:p,pinned:u,orderItemsBy:I,itemSize:64,stickyItems:b,loading:y,error:N,renderItem:({item:e,...i})=>(0,C.jsx)(it,{...i,edge:e,levelIndex:a,selected:e.toId===(null===t||void 0===t?void 0:t.id),retainerRootNode:h.root,onClick:t=>{t.shiftKey&&r((0,l.Mk)(h,e.toId)),n(e)}}),renderEmpty:()=>(0,C.jsx)(k.Z,{children:s()}),children:[(0,C.jsx)("div",{className:v(f.rail,f.left)}),(0,C.jsx)("div",{className:v(f.rail,f.right)})]})]})}const lt=(0,o.forwardRef)(st);const dt=(0,p.ZL)({name:"TreePage"})((e=>({TreePage:{flexGrow:1,display:"grid",grid:"[info] auto [navigation] 1fr / 1fr 350px",gap:e.spacing(3),padding:e.spacing(3)},info:{gridArea:"info / span 2",display:"grid",gridAutoFlow:"column",gridAutoColumns:"minmax(0, 1fr)",gap:e.spacing(3)},treeLevels:{position:"relative",gridArea:"navigation / 1",display:"grid",grid:"100% / auto-flow",gap:e.graph.treeLevelGap,overflowX:"auto",justifyContent:"flex-start",marginLeft:`-${e.spacing(2)}`,padding:`0px ${e.spacing(2)}`},treeShadeLeft:{gridArea:"navigation / 1",width:e.spacing(2),marginLeft:`-${e.spacing(2)}`,background:`linear-gradient(90deg, ${e.palette.background.default}, transparent)`,zIndex:1},treeShadeRight:{gridArea:"navigation / 1",width:e.spacing(2),justifySelf:"self-end",background:`linear-gradient(-90deg, ${e.palette.background.default}, transparent)`,zIndex:1},treeLevel:{width:350,height:"100%"},navigator:{gridArea:"navigation / span 1",padding:e.spacing(2),display:"grid"}}))),ct=function({graph:e,graphWorker:t,pinned:n,togglePinned:p,className:u,trackLoading:g,updateChanges:m,mode:x}){const{classes:f,cx:v,theme:j}=dt(),[y,N]=(0,d.Z)("activeEdgeId",(t=>(0,l.a3)(e,t))),[b,k]=(0,d.Z)("activeNodeId",(t=>(0,l.Ql)(e,t))),[I,Z]=(0,d.Z)("openedNodeIds",(t=>(0,l.v$)(e,t))),w=(0,l.a3)(e,y),{getChildEdges:S,renderEmptyChildren:M,navigatorModes:L,normalizePath:z}=(0,o.useMemo)((()=>{const n={renderEmptyChildren:()=>"Module doesn\u2019t import anything"};switch(x){case"async":return{...n,normalizePath:t=>t.filter(((n,r)=>{var i;return 0===r||(null===(i=(0,l.a3)(e,(0,l.Ln)(t[r-1],n)))||void 0===i?void 0:i.async)})),getChildEdges:n=>t.getAsyncEdges(n,s.stopOnAsyncModulesFilter).then((t=>(0,l.W8)(e,t))),renderEmptyChildren:()=>(0,C.jsxs)("span",{children:["There are no deeper split points",(0,C.jsx)("br",{}),'Go to "Modules" tab to browse modules']}),navigatorModes:{children:{getItems:()=>{var n;return t.getAsyncEdges((0,l.Ql)(e,null===(n=(0,l.a3)(e,y))||void 0===n?void 0:n.toId)||e.root).then((t=>(0,l.W8)(e,t))).then((t=>(0,i.uniq)(t.map((t=>(0,l.Mk)(e,t.toId))))))},renderTitle:()=>"Child Split Points",renderEmpty:()=>"Nothing found"},all:{getItems:()=>t.getAsyncEdges(e.root).then((t=>(0,l.W8)(e,t))).then((t=>(0,i.uniq)(t.map((t=>(0,l.Mk)(e,t.toId)))))),renderTitle:()=>"All Split Points",renderEmpty:()=>"Nothing found"}}};case"modules":return{...n,normalizePath:e=>e,getChildEdges:e=>e.children,navigatorModes:{children:{getItems:()=>{var n;return t.getDeepNodeChildren((0,l.Ql)(e,null===(n=(0,l.a3)(e,y))||void 0===n?void 0:n.toId)||e.root,s.currentGraphFilter).then((t=>(0,l.v$)(e,t)))},renderTitle:()=>"Loaded Child Modules",renderEmpty:()=>"Nothing found"},retainedByNode:{getItems:()=>{var n;return t.getNodesRetainedByNode(e.root,(0,l.Ql)(e,null===(n=(0,l.a3)(e,y))||void 0===n?void 0:n.toId)||e.root,s.currentGraphFilter).then((t=>(0,l.v$)(e,t)))},renderTitle:()=>"Retained Child Modules",renderEmpty:()=>"Nothing found"},parents:{getItems:()=>w?t.getEnabledParentEdges((0,l.Mk)(e,w.toId),s.currentGraphFilter).then((t=>(0,l.W8)(e,t))):[],getItemNode:(e,t)=>(0,l.Mk)(e,t.fromId),activateItem:(t,n)=>{n.shiftKey&&k(t.fromId),W((0,l.v$)(e,[t.fromId,t.toId]))},renderTitle:()=>"Loaded Parent Modules",renderEmpty:()=>"Nothing found"},enabled:{getItems:()=>t.getDeepNodeChildren(e.root,s.currentGraphFilter).then((t=>(0,l.v$)(e,t))),renderTitle:()=>"All Loaded Modules",renderEmpty:()=>"Nothing found"},all:{getItems:()=>(0,l.rc)(e),renderTitle:()=>"All Modules",renderEmpty:()=>"Nothing found"}}};case"cycles":return{...n,normalizePath:e=>e,getChildEdges:e=>e.children,navigatorModes:{cycles:{getItems:()=>t.findNodeCycles(e.root,s.currentGraphFilter),getItemNode:(e,t)=>(0,l.Mk)(e,t[t.length-1]),activateItem:(t,n)=>{k((0,i.first)(t)),W((0,l.v$)(e,t))},renderTitle:()=>"Cycles",renderEmpty:()=>"Nothing found"}}}}}),[x,e,t,y]),{value:E,promise:T}=(0,c.jc)((0,o.useMemo)((async()=>{const n=await t.getEnabledChildEdges(e.root),r=(0,l.W8)(e,n).map((e=>e.toId));return[...n,...r]}),[e,t]));(0,o.useEffect)((()=>{g(T)}),[T,g]);const{value:[R,A]=[],promise:F}=(0,c.jc)((0,o.useMemo)((async()=>{const n=(0,l.Ql)(e,b),r=n?await t.findChains(e.root,n,s.currentGraphFilter):[],i=r.flat();return[r,i]}),[e,b,t]));(0,o.useEffect)((()=>{g(F)}),[F,g]);const G=(0,o.useRef)(null),P=(0,o.useRef)(),B=(0,o.useCallback)((e=>{if(!G.current)throw new Error("Tree levels didnt render yet!");P.current&&cancelAnimationFrame(P.current),P.current=void 0;const t=16+e*(350+j.graph.treeLevelGap)-16,n=Math.max(0,t-G.current.offsetWidth+350+32);if(G.current.scrollLeft>=n&&G.current.scrollLeft<=t)return;const r=G.current.scrollLeft>t?t:n;console.log("scroll!");const i=r-G.current.scrollLeft;Math.abs(i)>5?(G.current.scrollLeft+=i/2,P.current&&cancelAnimationFrame(P.current),P.current=requestAnimationFrame((()=>B(e)))):G.current.scrollLeft=r}),[j]),W=(0,o.useCallback)((n=>{g((async()=>{const r=n.map((({id:e})=>e)),o=n.length>1&&(0,i.first)(n)===(0,i.last)(n);function a(e,t){return e.length===(0,i.uniq)(e).length&&0===(0,i.intersection)(e,t).length}let d,c;if(function(e,t){if(e.length<t.length)return!1;for(let n=0;n<=e.length-t.length;++n)if((0,i.isEqual)(e.slice(n,n+t.length),t))return!0;return!1}(I,z(r)))d=I,c=I.slice(0,I.lastIndexOf((0,i.last)(r))+1);else if((0,i.first)(n)===e.root)d=r;else for await(let h of async function*(n){const r=I.indexOf(n.id);if(r>0&&(yield I.slice(0,r+1)),w&&I.includes(w.id)){const r=I.slice(0,I.indexOf(w.id));let i=await t.findChains((0,l.Mk)(e,w.toId),n,s.currentGraphFilter);yield*i.map((e=>[...r,...e])),i=await t.findChains((0,l.Mk)(e,w.toId),n),yield*i.map((e=>[...r,...e]))}yield*await t.findChains(e.root,n,s.currentGraphFilter),yield*await t.findChains(e.root,n)}((0,i.first)(n)))if(h=h.slice(0,-1),a(h,r)){d=[...h,...r];break}if(c??=d,d&&b&&!o&&!d.includes(b))for await(let n of await t.findChains((0,l.Mk)(e,(0,i.last)(d)),(0,l.Mk)(e,b)))if(n=n.slice(1),a(d,n)){d=[...d,...n];break}if(!d||!c)throw`Node ${(0,i.first)(n).name||(0,i.first)(n).id} is not connected to anything`;c.length>1&&N((0,l.Ln)((0,i.nth)(c,-2),(0,i.nth)(c,-1))),o&&(d=d.slice(0,-1)),d!==I&&Z(z(d)),B(Math.min(z(c).length,z(d).length)-1)})())}),[g,I,z,e,b,B,w,t,N,Z]);(0,o.useEffect)((()=>{W(w?[(0,l.Mk)(e,w.fromId),(0,l.Mk)(e,w.toId)]:[e.root])}),[x]);const{virtualItems:D}=(0,a.oq)({size:I.length,parentRef:G,horizontal:!0,estimateSize:(0,o.useCallback)((()=>350+j.graph.treeLevelGap),[j])}),O=I.map(((t,n)=>D.find((e=>e.index===n))?(0,C.jsx)(lt,{levelIndex:n,className:f.treeLevel,node:(0,l.Mk)(e,t),childNode:(0,l.Ql)(e,I[n+1]),activateEdge:t=>{const r=I.indexOf(t.toId);W(r>=0&&r<n?[(0,l.Mk)(e,t.toId)]:[(0,l.Mk)(e,t.fromId),(0,l.Mk)(e,t.toId)])},activateNode:e=>{k(e.id)},renderEmpty:M},n):(0,C.jsx)("div",{className:f.treeLevel},n)));return(0,C.jsx)("div",{className:v(u,f.TreePage),children:(0,C.jsxs)($,{value:{graph:e,graphWorker:t,pinned:n,togglePinned:p,enabledIds:E||[],activeEdgeId:y,openNodeChain:W,openedNodeIds:I,setOpenedNodeIds:Z,activeNodeId:b,setActiveNodeId:k,trackLoading:g,updateChanges:m,chains:R||[],chainedNodeIds:A||[],getChildEdges:S},children:[(0,C.jsxs)("div",{className:f.info,children:[(0,C.jsx)(ge,{}),(0,C.jsx)(q,{}),(0,C.jsx)(V,{})]}),(0,C.jsx)("div",{className:f.treeLevels,ref:G,children:O}),(0,C.jsx)("div",{className:f.treeShadeLeft}),(0,C.jsx)("div",{className:f.treeShadeRight}),(0,C.jsx)(r.Z,{className:f.navigator,children:(0,C.jsx)(h.Z,{fallback:"...",children:(0,C.jsx)(Ue,{modes:L},x)})})]})})}}}]);
//# sourceMappingURL=437.7f7199ab.chunk.js.map